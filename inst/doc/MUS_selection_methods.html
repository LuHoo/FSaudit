<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Lucas Hoogduin &amp; Marcel Boersma" />

<meta name="date" content="2023-08-10" />

<title>MUS - selection methods</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">MUS - selection methods</h1>
<h4 class="author">Lucas Hoogduin &amp; Marcel Boersma</h4>
<h4 class="date">2023-08-10</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>There are many selection methods that have probabilities for
inclusion proportional to the size of the elements. The following are
available in <code>FSaudit</code>:</p>
<ul>
<li>random</li>
<li>fixed</li>
<li>randomized.fixed (Default)</li>
<li>cell</li>
<li>sieve</li>
<li>modified.sieve</li>
</ul>
<p>We first load <code>FSaudit</code> as follows,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(FSaudit)</span></code></pre></div>
<p>We sample from a population of accounts receivable,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">mus_obj</span>(<span class="at">cl =</span> <span class="fl">0.95</span>,</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>                    <span class="at">bv =</span> accounts_receivable<span class="sc">$</span>amount,</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>                    <span class="at">id =</span> accounts_receivable<span class="sc">$</span>invoice,</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>                    <span class="at">pm =</span> <span class="dv">23950</span>,</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>                    <span class="at">seed =</span> <span class="dv">3</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">size</span>(mySample)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>mySample<span class="sc">$</span>n</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; [1] 1687</span></span></code></pre></div>
<p>With a sample size of 1687, what would be the individually
significant items?</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">sum</span>(accounts_receivable<span class="sc">$</span>amount)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co">#&gt; [1] 13500000</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>samplingInterval <span class="ot">&lt;-</span> <span class="fu">sum</span>(accounts_receivable<span class="sc">$</span>amount) <span class="sc">/</span> mySample<span class="sc">$</span>n</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>samplingInterval</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt; [1] 8002.371</span></span></code></pre></div>
<p>We see that all elements greater than 8002.37 should have an
inclusion probability of 1. How many of these does the population
contain?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>significants <span class="ot">&lt;-</span> accounts_receivable[accounts_receivable<span class="sc">$</span>amount <span class="sc">&gt;</span> samplingInterval, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>significants[<span class="fu">order</span>(<span class="sc">-</span>significants<span class="sc">$</span>amount),]</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt; # A tibble: 26 × 3</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt;    debtor   invoice amount</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt;     &lt;int&gt;     &lt;int&gt;  &lt;dbl&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt;  1  47013 201719763 12050.</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;  2  91415 201734940 11981.</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;  3  33149 201706806 11586.</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt;  4  21704 201739548 10795.</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt;  5  39608 201726290 10520 </span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt;  6  65215 201723585 10377.</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt;  7  55704 201710344  9918.</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt;  8  26298 201725104  9806.</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt;  9  22863 201707156  9786.</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt; 10  51074 201712571  9710.</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; # ℹ 16 more rows</span></span></code></pre></div>
<p>There are 26 individually significant items. We ignore them for now,
assuming that elements in the population could be aggregates. The
selected monetary unit should in this case be drilled down to the lower
level detail that contains it.</p>
<div id="random-selection" class="section level3">
<h3>Random Selection</h3>
<p>A random sample of monetary units is selected, and these are traced
to the elements that contain them. Let us have a look at the ten largest
book values selected.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;random&quot;</span>,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt;           item       bv      cum    unit previous</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; 56   201734940 11981.19 12301198 1677.02 12289216</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; 1582 201734940 11981.19 12301198 8041.75 12289216</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; 554  201706806 11586.13  4483280 1746.46  4471694</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; 1362 201739548 10795.33  2892311 6556.66  2881516</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; 1630 201726290 10520.00  5349150 7708.33  5338630</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; 365  201723585 10377.48  8822377 4729.04  8811999</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; 541  201723585 10377.48  8822377 7271.81  8811999</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; 1542 201723585 10377.48  8822377 2432.09  8811999</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; 1342 201710344  9918.25  7486492 3741.60  7476574</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; 156  201725104  9806.09  3551410  720.49  3541604</span></span></code></pre></div>
<p>We observe that item 201734940 has two hits, and item 201723585
three. We also see that the largest individually significant item,
invoice 201719763 with a book value of 12049.70, is not selected.</p>
</div>
<div id="fixed-interval-selection" class="section level3">
<h3>Fixed Interval Selection</h3>
<p>After a random start, we take fixed intervals of monetary units to
select elements.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;fixed&quot;</span>,</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co">#&gt;           item       bv      cum     unit previous</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">#&gt; 781  201719763 12049.70  6248492  6752.05  6236442</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="co">#&gt; 1537 201734940 11981.19 12301198  3770.31 12289216</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="co">#&gt; 1538 201734940 11981.19 12301198 11772.68 12289216</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="co">#&gt; 560  201706806 11586.13  4483280  2976.20  4471694</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co">#&gt; 561  201706806 11586.13  4483280 10978.57  4471694</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="co">#&gt; 361  201739548 10795.33  2892311   682.42  2881516</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="co">#&gt; 362  201739548 10795.33  2892311  8684.79  2881516</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="co">#&gt; 668  201726290 10520.00  5349150   296.09  5338630</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="co">#&gt; 669  201726290 10520.00  5349150  8298.46  5338630</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="co">#&gt; 1103 201723585 10377.48  8822377  7958.56  8811999</span></span></code></pre></div>
<p>The ten largest selected book values show us, that all significant
items have at least been hit once. The interval between two hits (that
can be observed in items that have been hit twice) is equal to the
sampling interval.</p>
</div>
<div id="randomized-fixed-selection" class="section level3">
<h3>Randomized Fixed Selection</h3>
<p>This method is similar to the previous, with the only difference that
elements are put into random order before the fixed interval selection
is executed.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;randomized.fixed&quot;</span>,</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt;           item       bv      cum     unit previous</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; 1493 201719763 12049.70 11950671  2261.08 11938621</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt; 1494 201719763 12049.70 11950671 10263.45 11938621</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; 235  201734940 11981.19  1881312  4568.43  1869331</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; 1393 201706806 11586.13 11145959  6272.20 11134373</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; 1274 201739548 10795.33 10193993  5165.52 10183198</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; 586  201726290 10520.00  4689224  4027.55  4678704</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; 1565 201723585 10377.48 12523430  4000.87 12513052</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt; 1030 201710344  9918.25  8243188  2515.13  8233269</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co">#&gt; 1323 201725104  9806.09 10582371  7914.13 10572565</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="co">#&gt; 1061 201707156  9785.79  8485642  8002.02  8475856</span></span></code></pre></div>
</div>
<div id="cell-selection" class="section level3">
<h3>Cell Selection</h3>
<p>The list of elements is divided into cells of fixed width, and a
random monetary unit is selected from each cell.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;cell&quot;</span>,</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt;           item       bv      cum     unit previous</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">#&gt; 780  201719763 12049.70  6248492  2647.91  6236442</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">#&gt; 781  201719763 12049.70  6248492  8496.18  6236442</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">#&gt; 1536 201734940 11981.19 12301198  1909.37 12289216</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">#&gt; 1537 201734940 11981.19 12301198  7323.32 12289216</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co">#&gt; 1538 201734940 11981.19 12301198 11489.31 12289216</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="co">#&gt; 560  201706806 11586.13  4483280  6421.53  4471694</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="co">#&gt; 361  201739548 10795.33  2892311  4352.68  2881516</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="co">#&gt; 362  201739548 10795.33  2892311  8189.38  2881516</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="co">#&gt; 668  201726290 10520.00  5349150  4924.55  5338630</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="co">#&gt; 1102 201723585 10377.48  8822377  2175.82  8811999</span></span></code></pre></div>
<p>The disadvantage of this method is that large but not individually
significant items can have multiple hits, as evidence by the
following:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>orderedSample <span class="ot">&lt;-</span> mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),]</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>orderedSample[<span class="dv">34</span><span class="sc">:</span><span class="dv">35</span>,]</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="co">#&gt;           item      bv      cum    unit previous</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co">#&gt; 690  201715126 7339.53  5522294 3900.59  5514954</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">#&gt; 1566 201711579 7270.96 12534310 1771.84 12527040</span></span></code></pre></div>
</div>
<div id="sieve-selection" class="section level3">
<h3>Sieve Selection</h3>
<p>All elements’ values larger than the mesh size of the sieve,
calculated as the sampling interval multiplied by a random number, are
selected.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;sieve&quot;</span>,</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">#&gt;           item       bv    unit</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">#&gt; 4654 201719763 12049.70 7106.13</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="co">#&gt; 9168 201734940 11981.19 1053.10</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">#&gt; 3353 201706806 11586.13 6634.08</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co">#&gt; 2200 201739548 10795.33 6050.61</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co">#&gt; 4011 201726290 10520.00 2747.35</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="co">#&gt; 6533 201723585 10377.48 7432.72</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="co">#&gt; 5530 201710344  9918.25 4898.62</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="co">#&gt; 2682 201725104  9806.09 6295.94</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="co">#&gt; 2344 201707156  9785.79 5050.65</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="co">#&gt; 5007 201712571  9709.91  441.86</span></span></code></pre></div>
</div>
<div id="modified-sieve-selection" class="section level3">
<h3>Modified Sieve Selection</h3>
<p>A modification of the sieve method, fixing the sample size and
ensuring that all individually significant items are selected.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>mySample <span class="ot">&lt;-</span> <span class="fu">select</span>(mySample,</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>                   <span class="at">selMeth =</span> <span class="st">&quot;modified.sieve&quot;</span>,</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>                   <span class="at">aggregates =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="fu">head</span>(mySample<span class="sc">$</span>sample[<span class="fu">order</span>(<span class="sc">-</span>mySample<span class="sc">$</span>sample<span class="sc">$</span>bv),], <span class="dv">10</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co">#&gt;           item       bv    unit</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt; 4654 201719763 12049.70 7089.32</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt; 9168 201734940 11981.19 1050.61</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="co">#&gt; 3353 201706806 11586.13 6618.38</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">#&gt; 2200 201739548 10795.33 6036.30</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">#&gt; 4011 201726290 10520.00 2740.86</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">#&gt; 6533 201723585 10377.48 7415.14</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co">#&gt; 5530 201710344  9918.25 4887.04</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="co">#&gt; 2682 201725104  9806.09 6281.04</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co">#&gt; 2344 201707156  9785.79 5038.71</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co">#&gt; 5007 201712571  9709.91  440.82</span></span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
